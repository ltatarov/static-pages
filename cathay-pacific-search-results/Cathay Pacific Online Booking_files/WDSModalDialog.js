/*!
 * Copyright (c) aMaDEUS 2010
 * Licensed material - Program property of aMaDEUS.
 * Part of the WDS JSLibrary WDS_JSLIBRARY_V50_290411
 */
function WDSModalDialog(a,b){this.dialog=typeof a=="string"?document.getElementById(a):a;this.resizeListener=this.scrollListener=null;this.autoCenterAfterOpen=!0;if(b!=null){this.autoCenterAfterOpen=b;}}WDSModalDialog.dialogMask=null;WDSModalDialog.dialogMaskClass=null;WDSModalDialog.isIframeMaskNeeded=WDSBrowser.ie6;WDSModalDialog.setMaskSize=function(){var a=document.getElementsByTagName("BODY")[0],b=WDSDom.getViewportHeight(),c=WDSDom.getViewportWidth(),d=0,e=0;d=b>a.scrollHeight?b:a.scrollHeight;e=c>a.scrollWidth?c:a.scrollWidth;if(WDSModalDialog.isIframeMaskNeeded){WDSModalDialog.dialogMaskIframe.style.height=d+"px",WDSModalDialog.dialogMaskIframe.style.width=e+"px";}WDSModalDialog.dialogMask.style.height=d+"px";WDSModalDialog.dialogMask.style.width=e+"px";};WDSModalDialog.initMask=function(){var a=document.getElementsByTagName("body")[0];if(WDSModalDialog.isIframeMaskNeeded){WDSModalDialog.dialogMaskIframe=document.createElement("iframe"),WDSDom.setOpacity(WDSModalDialog.dialogMaskIframe,0),WDSModalDialog.dialogMaskIframe.setAttribute("id","wdsPopupMaskIframe"),WDSModalDialog.dialogMaskIframe.setAttribute("style","z-index:1999; border:0"),WDSModalDialog.dialogMaskIframe.style.position="absolute",WDSModalDialog.dialogMaskIframe.style.top="0px",WDSModalDialog.dialogMaskIframe.style.left="0px",WDSModalDialog.dialogMaskIframe.style.display="none",a.appendChild(WDSModalDialog.dialogMaskIframe);}WDSModalDialog.dialogMask=document.createElement("div");WDSModalDialog.dialogMask.setAttribute("id","wdsPopupMask");WDSModalDialog.dialogMaskClass==null?(WDSModalDialog.dialogMask.setAttribute("style","z-index:2000;"),WDSModalDialog.dialogMask.style.backgroundColor="black",WDSModalDialog.dialogMask.style.position="absolute",WDSModalDialog.dialogMask.style.top="0px",WDSModalDialog.dialogMask.style.left="0px",WDSModalDialog.dialogMask.style.display="none",WDSDom.setOpacity(WDSModalDialog.dialogMask,0.5)):WDSModalDialog.dialogMask.className=WDSModalDialog.dialogMaskClass;a.appendChild(WDSModalDialog.dialogMask);WDSDom.addEventListener(window,"scroll",function(){WDSModalDialog.setMaskSize();});WDSDom.addEventListener(window,"resize",function(){WDSModalDialog.setMaskSize();});};WDSModalDialog.prototype.open=function(){WDSModalDialog.dialogMask==null&&WDSModalDialog.initMask();if(WDSModalDialog.isIframeMaskNeeded){WDSModalDialog.dialogMaskIframe.style.display="block";}WDSModalDialog.dialogMask.style.display="block";WDSModalDialog.setMaskSize();this.dialog.style.display="block";this.dialog.style.zIndex="2001";this.centerDialog();var a=this;if(this.autoCenterAfterOpen){this.scrollListener=WDSDom.addEventListener(window,"scroll",function(){a.centerDialog();}),this.resizeListener=WDSDom.addEventListener(window,"resize",function(){a.centerDialog();});}};WDSModalDialog.prototype.close=function(){if(WDSModalDialog.isIframeMaskNeeded){WDSModalDialog.dialogMaskIframe.style.display="none";}WDSModalDialog.dialogMask.style.display="none";this.dialog.style.display="none";WDSDom.removeEventListener(window,"scroll",this.scrollListener);WDSDom.removeEventListener(window,"resize",this.resizeListener);};WDSModalDialog.prototype.centerDialog=function(){var a=this.dialog.offsetWidth,b=this.dialog.offsetHeight,c=document.getElementsByTagName("BODY")[0],d=parseInt(WDSDom.getScrollTop(),10);c=parseInt(c.scrollLeft,10);var e=WDSDom.getViewportHeight(),f=WDSDom.getViewportWidth();b=d+(e-b)/2;b<0&&(b=0);a=c+(f-a)/2;a<0&&(a=0);this.dialog.style.top=b+"px";this.dialog.style.left=a+"px";this.dialog.style.right="auto";this.dialog.style.maxHeight=$(window).height()+"px";this.dialog.style.overflowY="auto";};